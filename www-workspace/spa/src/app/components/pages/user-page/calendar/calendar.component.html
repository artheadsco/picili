


<div *ngIf="!searchService.bSearching && (oDateResults === null || oDateResults.length === 0)">
    no results?
</div>
<div *ngIf="searchService.bSearching">
    searching..
</div>

<div *ngIf="searchService.sCalendarSearchMode === 'day'">
    <app-result-grid></app-result-grid>
</div>
<!-- week view -->
<div *ngIf="searchService.sCalendarSearchMode === 'week' && searchService.mData && searchService.mData.search.aggs" class="week">
    
    <div *ngFor="let oDay of oDateResults; let d = index" class="day">
        <a (click)="goToDate(aAvailableDates[d])">
            <div class="day-title" [ngClass]="{'with-files': oDay.count}">{{formatWeekDateHeader(aAvailableDates[d])}}<span class="day-count">&nbsp;({{oDay.count}})</span></div>

            <img *ngFor="let oResult of oDay.files;let i = index" [src]="helperService.thumbUrl('s', oResult)"
                [style.background-color]="white"
            />
        </a>
    </div>
</div>
<!-- month view -->
<div *ngIf="searchService.sCalendarSearchMode === 'month' && searchService.mData && searchService.mData.search && searchService.mData.search.aggs" class="month">

    <div *ngFor="let oDay of oDateResults; let d = index" class="day" [ngClass]="{'today': aAvailableDates[d] === oCurrentDate}">
        <a (click)="goToDate(aAvailableDates[d])">
            <span class="calendar-date" [ngClass]="{'with-files': oDay.count}">{{d + 1}}</span> <!--<span *ngIf="oDay.count">({{oDay.count}})</span>--><br/>
            <img *ngFor="let oResult of oDay.files;let i = index" [src]="helperService.thumbUrl('i', oResult)"
                [style.background-color]="white"
            />
        </a>
    </div>
</div>

<!-- 25.4.17 exclude from MVP
<div *ngIf="searchService.sCalendarSearchMode === 'year' && searchService.mData && searchService.mData.search.aggs">
    [year]<br/>
    {{searchService.mData.search.aggs | json}}
</div>
-->
